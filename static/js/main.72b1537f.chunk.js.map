{"version":3,"sources":["redux/reducers/profileReducer.ts","components/Messages/Messages.module.scss","components/News/News.module.scss","components/Settings/Settings.module.scss","api/api.js","components/UsersList/UserListItem/UserListItem.js","components/UI/Pagination/Pagination.tsx","components/hoc/withAuthRedirect.js","redux/reducers/usersReducer.ts","components/UsersList/UsersList.js","components/Messages/Messages.js","components/News/News.js","components/Settings/Settings.js","redux/reducers/authReducer.ts","components/UI/FormControl/FormControl.js","validate/login/index.js","components/Login/Login.js","components/Nav/Nav.js","redux/reducers/appReducer.ts","redux/reducers/authSelector.js","App.js","redux/rootReducer.js","index.js","components/UI/Spinner/Spinner.module.scss","components/Nav/Nav.module.scss","components/Login/Login.module.scss","components/UI/Pagination/Pagination.module.scss","components/UI/Spinner/Spinner.js","components/UsersList/UserListItem/UserListItem.module.scss","components/UsersList/UsersList.module.scss","components/UI/FormControl/FormControl.module.scss"],"names":["initialState","isLoading","profileInfo","status","profileReducer","state","action","type","profile","loading","toggleIsLoading","setStatus","getProfileThunk","userId","dispatch","profileAPI","getProfile","then","data","getStatusThunk","getStatus","updateStatusThunk","updateStatus","resultCode","module","exports","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","response","follow","post","unfollow","delete","put","authAPI","me","login","email","password","rememberMe","logout","UserListItem","props","onClick","onClickUserItem","className","classes","UserListItemImg","src","photo","alt","UserListItemName","name","followed","disabled","followingInProgress","some","id","e","stopPropagation","Pagination","pagesCount","Math","ceil","totalUsersCount","pages","i","push","portionCount","portionSize","useState","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","PaginationControl","PaginationItems","filter","p","map","active","key","onPageChanged","mapStateToProps","isAuth","authReducer","users","isLoaded","toggleFollowingProgress","isFetching","toggleIsLoaded","setUsers","UsersList","hundlerClickUserItem","history","this","getUsersThunkCreator","UsersLoading","Spinner","content","Users","user","photos","large","Component","compose","connect","usersReducer","items","usersTotalCount","totalCount","setCurrentPage","followSuccess","unfollowSuccess","withRouter","AuthRedirect","to","React","Messages","News","Settings","setAuthUserData","getAuthUserDataThunk","a","logoutThunk","FormInput","input","meta","touched","error","style","color","marginTop","FormCheckbox","htmlFor","required","value","console","log","LoginFormRedux","reduxForm","form","Form","onSubmit","handleSubmit","fontSize","fontWeight","FormItem","Field","validate","component","placeholder","FormItemCheckbox","FormItemButton","Login","formData","loginThunk","message","messages","length","stopSubmit","_error","Nav","NavList","activeClassName","exact","initialized","getIsAuth","getUserLogin","Profile","lazy","App","initializeThunk","marginLeft","cursor","path","fallback","backgroundColor","width","height","appReducer","promise","Promise","all","combineReducers","formReducer","store","createStore","rootReducer","applyMiddleware","thunkMiddleware","window","app","ReactDOM","render","document","getElementById","skChase","skChaseDot"],"mappings":"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","file":"static/js/main.72b1537f.chunk.js","sourcesContent":["import { profileAPI } from '../../api/api';\r\nimport { ProfileInfoType } from '../../types/types';\r\n\r\nconst SET_PROFILE = 'SET_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst TOGGLE_IS_LOADING = 'TOGGLE_IS_LOADING';\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  profileInfo: null as ProfileInfoType | null,\r\n  status: '',\r\n};\r\n\r\nexport type InitialStateType = typeof initialState;\r\n\r\nexport default function profileReducer(\r\n  state = initialState,\r\n  action: any\r\n): InitialStateType {\r\n  switch (action.type) {\r\n    case SET_PROFILE:\r\n      return { ...state, profileInfo: { ...action.profile } };\r\n\r\n    case TOGGLE_IS_LOADING:\r\n      return { ...state, isLoading: action.loading };\r\n\r\n    case SET_STATUS:\r\n      return { ...state, status: action.status };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\ntype SetProfileActionType = {\r\n  type: typeof SET_PROFILE;\r\n  profile: ProfileInfoType;\r\n};\r\n\r\nexport const setProfile = (profile: ProfileInfoType): SetProfileActionType => ({\r\n  type: SET_PROFILE,\r\n  profile,\r\n});\r\n\r\ntype ToggleIsLoadingType = {\r\n  type: typeof TOGGLE_IS_LOADING;\r\n  loading: boolean;\r\n};\r\n\r\nexport const toggleIsLoading = (loading: boolean): ToggleIsLoadingType => ({\r\n  type: TOGGLE_IS_LOADING,\r\n  loading,\r\n});\r\n\r\ntype SetStatusType = {\r\n  type: typeof SET_STATUS;\r\n  status: string;\r\n};\r\n\r\nexport const setStatus = (status: string): SetStatusType => ({\r\n  type: SET_STATUS,\r\n  status,\r\n});\r\n\r\n// THUNK\r\nexport const getProfileThunk = (userId: number) => {\r\n  return (dispatch: any) => {\r\n    dispatch(toggleIsLoading(false));\r\n    profileAPI.getProfile(userId).then((data) => {\r\n      dispatch(setProfile(data));\r\n      dispatch(toggleIsLoading(true));\r\n    });\r\n  };\r\n};\r\n\r\nexport const getStatusThunk = (userId: number) => {\r\n  return (dispatch: any) => {\r\n    profileAPI.getStatus(userId).then((data) => {\r\n      dispatch(setStatus(data));\r\n    });\r\n  };\r\n};\r\n\r\nexport const updateStatusThunk = (status: string) => {\r\n  return (dispatch: any) => {\r\n    profileAPI.updateStatus(status).then((data) => {\r\n      if (!data.resultCode) {\r\n        dispatch(setStatus(status));\r\n      }\r\n    });\r\n  };\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Messages\":\"Messages_Messages__33Ht9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"News\":\"News_News__30ej5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Settings\":\"Settings_Settings__2NZt4\"};","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: { 'API-KEY': '1d50145e-9b5b-43e8-933a-f2213da6e70b' }\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then(response => response.data);\r\n  },\r\n\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`).then(response => response.data);\r\n  },\r\n\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`).then(response => response.data);\r\n  }\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance\r\n      .get(`profile/${userId}`)\r\n      .then(response => response.data);\r\n  },\r\n \r\n  getStatus(userId) {\r\n    return instance\r\n    .get(`profile/status/${userId}`)\r\n    .then(response => response.data);\r\n  },\r\n\r\n  updateStatus(status) {\r\n    return instance\r\n    .put(`profile/status`, { status: status})\r\n    .then(response => response.data);\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get('auth/me').then(response => response.data);\r\n  },\r\n\r\n  login(email, password, rememberMe=false) {\r\n    return instance.post('auth/login', {email, password, rememberMe}).then(response => response.data);\r\n  },\r\n\r\n  logout() {\r\n    return instance.delete('auth/login').then(response => response.data);\r\n  },\r\n};\r\n","import React from 'react';\r\nimport classes from './UserListItem.module.scss';\r\n\r\nconst defaultImg = 'https://specenergo.ru/sites/default/files/styles/mt_testimonial_image/public/2016-11/testimonial-4.jpg?itok=a7UblV6p'\r\n\r\nconst UserListItem = props => {\r\n  return (\r\n    <div\r\n      onClick={() => props.onClickUserItem(props.userId)}\r\n      className={classes.UserListItem}\r\n    >\r\n      <div className={classes.UserListItemImg}>\r\n        <img\r\n          src={\r\n            props.photo\r\n              ? props.photo\r\n              : defaultImg\r\n          }\r\n          alt='img'\r\n        />\r\n      </div>\r\n      <div className={classes.UserListItemName}>{props.name}</div>\r\n\r\n      {props.followed ? (\r\n        <button\r\n          disabled={props.followingInProgress.some(id => id === props.userId)}\r\n          onClick={e => {\r\n            e.stopPropagation();\r\n            props.unfollow(props.userId);\r\n          }}\r\n        >\r\n          Unfollow\r\n        </button>\r\n      ) : (\r\n        <button\r\n          disabled={props.followingInProgress.some(id => id === props.userId)}\r\n          onClick={e => {\r\n            e.stopPropagation();\r\n            props.follow(props.userId);\r\n          }}\r\n        >\r\n          Follow\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserListItem;\r\n","import React, { useState } from 'react';\r\nimport classes from './Pagination.module.scss';\r\n\r\ntype PropsType = {\r\n  totalUsersCount: number;\r\n  pageSize: number;\r\n  currentPage: number;\r\n  onPageChanged: (currentPage: number, pageSize: number) => void;\r\n  portionSize: number;\r\n};\r\n\r\nconst Pagination: React.FC<PropsType> = (props) => {\r\n  const pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n\r\n  const pages: Array<number> = [];\r\n\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  const portionCount = Math.ceil(pagesCount / props.portionSize);\r\n  const [portionNumber, setPortionNumber] = useState(1);\r\n  const leftPortionNumber = (portionNumber - 1) * props.portionSize + 1;\r\n  const rightPortionNumber = portionNumber * props.portionSize;\r\n\r\n  return (\r\n    <div className={classes.Pagination}>\r\n      {portionNumber > 1 && (\r\n        <button\r\n          className={classes.PaginationControl}\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber - 1);\r\n          }}\r\n        >\r\n          Prev\r\n        </button>\r\n      )}\r\n\r\n      <div className={classes.PaginationItems}>\r\n        {pages\r\n          .filter((p) => p >= leftPortionNumber && p <= rightPortionNumber)\r\n          .map((p) => {\r\n            return (\r\n              <span\r\n                className={props.currentPage === p ? classes.active : ''}\r\n                key={p}\r\n                onClick={() => props.onPageChanged(p, props.pageSize)}\r\n              >\r\n                {p}\r\n              </span>\r\n            );\r\n          })}\r\n      </div>\r\n\r\n      {portionCount > portionNumber && (\r\n        <button\r\n          className={classes.PaginationControl}\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber + 1);\r\n          }}\r\n        >\r\n          Next\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import React from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuth: state.authReducer.isAuth\r\n  };\r\n};\r\n\r\nexport const withAuthRedirect = Component => {\r\n  class AuthRedirect extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={'/login'} />;\r\n\r\n      return <Component {...this.props}/>\r\n    }\r\n  }\r\n\r\n  return connect(mapStateToProps) (AuthRedirect)\r\n};\r\n\r\n","import { usersAPI } from '../../api/api';\r\nimport { UserType } from '../../types/types';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\nconst TOGGLE_IS_LOADED = 'TOGGLE_IS_LOADED';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_USERS_TOTAL_COUNT = 'SET_USERS_TOTAL_COUNT';\r\nconst SET_USERS = 'SET_USERS';\r\n\r\nconst initialState = {\r\n  users: [] as Array<UserType>,\r\n  pageSize: 10,\r\n  portionSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isLoaded: false,\r\n  followingInProgress: [] as Array<number>, // array of user id\r\n};\r\n\r\ntype InitialStateType = typeof initialState;\r\n\r\nexport default function usersReducer(\r\n  state = initialState,\r\n  action: any\r\n): InitialStateType {\r\n  switch (action.type) {\r\n    case SET_USERS:\r\n      return { ...state, users: [...action.users] };\r\n\r\n    case SET_USERS_TOTAL_COUNT:\r\n      return { ...state, totalUsersCount: action.usersTotalCount };\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return { ...state, currentPage: action.currentPage };\r\n\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.userId) {\r\n            return { ...user, followed: true };\r\n          }\r\n\r\n          return user;\r\n        }),\r\n      };\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.userId) {\r\n            return { ...user, followed: false };\r\n          }\r\n\r\n          return user;\r\n        }),\r\n      };\r\n\r\n    case TOGGLE_IS_LOADED:\r\n      return { ...state, isLoaded: action.isLoaded };\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id !== action.userId),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// ACTION CREATOR\r\ntype FollowSuccessType = {\r\n  type: typeof FOLLOW;\r\n  userId: number;\r\n};\r\n\r\nexport const followSuccess = (userId: number): FollowSuccessType => ({\r\n  type: FOLLOW,\r\n  userId,\r\n});\r\n\r\ntype UnFollowSuccessType = {\r\n  type: typeof UNFOLLOW;\r\n  userId: number;\r\n};\r\n\r\nexport const unfollowSuccess = (userId: number): UnFollowSuccessType => ({\r\n  type: UNFOLLOW,\r\n  userId,\r\n});\r\n\r\ntype ToggleFollowingProgressType = {\r\n  type: typeof TOGGLE_IS_FOLLOWING_PROGRESS;\r\n  isFetching: boolean;\r\n  userId: number;\r\n};\r\n\r\nexport const toggleFollowingProgress = (\r\n  isFetching: boolean,\r\n  userId: number\r\n): ToggleFollowingProgressType => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\n\r\ntype ToggleIsLoadedType = {\r\n  type: typeof TOGGLE_IS_LOADED;\r\n  isLoaded: boolean;\r\n};\r\n\r\nexport const toggleIsLoaded = (isLoaded: boolean): ToggleIsLoadedType => ({\r\n  type: TOGGLE_IS_LOADED,\r\n  isLoaded,\r\n});\r\n\r\ntype SetUsersType = {\r\n  type: typeof SET_USERS;\r\n  users: Array<UserType>;\r\n};\r\n\r\nexport const setUsers = (users: Array<UserType>): SetUsersType => ({\r\n  type: SET_USERS,\r\n  users,\r\n});\r\n\r\ntype SetUsersTotalCountType = {\r\n  type: typeof SET_USERS_TOTAL_COUNT;\r\n  usersTotalCount: number;\r\n};\r\n\r\nexport const setUsersTotalCount = (\r\n  usersTotalCount: number\r\n): SetUsersTotalCountType => ({\r\n  type: SET_USERS_TOTAL_COUNT,\r\n  usersTotalCount,\r\n});\r\n\r\ntype SetCurrentPageType = {\r\n  type: typeof SET_CURRENT_PAGE;\r\n  currentPage: number;\r\n};\r\n\r\nexport const setCurrentPage = (currentPage: number): SetCurrentPageType => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage,\r\n});\r\n\r\n// THUNK\r\nexport const getUsersThunkCreator = () => {\r\n  return (dispatch: any) => {\r\n    dispatch(toggleIsLoaded(false));\r\n    usersAPI.getUsers().then((data) => {\r\n      dispatch(setUsers(data.items));\r\n      dispatch(setUsersTotalCount(data.totalCount));\r\n      dispatch(toggleIsLoaded(true));\r\n    });\r\n  };\r\n};\r\n\r\nexport const onPageChanged = (currentPage: number, pageSize: number) => {\r\n  return (dispatch: any) => {\r\n    dispatch(setCurrentPage(currentPage));\r\n    usersAPI.getUsers(currentPage, pageSize).then((data) => {\r\n      dispatch(setUsers(data.items));\r\n    });\r\n  };\r\n};\r\n\r\nexport const follow = (userId: number) => {\r\n  return (dispatch: any) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    usersAPI.follow(userId).then((data) => {\r\n      if (data.resultCode === 0) {\r\n        dispatch(followSuccess(userId));\r\n      }\r\n      dispatch(toggleFollowingProgress(false, userId));\r\n    });\r\n  };\r\n};\r\n\r\nexport const unfollow = (userId: number) => {\r\n  return (dispatch: any) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    usersAPI.unfollow(userId).then((data) => {\r\n      if (data.resultCode === 0) {\r\n        dispatch(unfollowSuccess(userId));\r\n      }\r\n      dispatch(toggleFollowingProgress(false, userId));\r\n    });\r\n  };\r\n};\r\n","import React, { Component } from 'react';\r\nimport classes from './UsersList.module.scss';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport { compose } from 'redux';\r\n\r\nimport UserListItem from './UserListItem/UserListItem';\r\nimport Spinner from '../UI/Spinner/Spinner';\r\nimport Pagination from '../UI/Pagination/Pagination';\r\nimport { withAuthRedirect } from '../hoc/withAuthRedirect';\r\n\r\nimport {\r\n  getUsersThunkCreator,\r\n  onPageChanged,\r\n  follow,\r\n  unfollow\r\n} from '../../redux/reducers/usersReducer';\r\n\r\nclass UsersList extends Component {\r\n  componentDidMount() {\r\n    this.props.getUsersThunkCreator();\r\n  }\r\n\r\n  hundlerClickUserItem = userId => {\r\n    this.props.history.push(`/profile/${userId}`);\r\n  };\r\n\r\n  render() {\r\n    const loading = (\r\n      <div className={classes.UsersLoading}>\r\n        <Spinner />\r\n      </div>\r\n    );\r\n\r\n    const content = (\r\n      <>\r\n        <div className={classes.Users}>\r\n          {this.props.users.map(user => {\r\n            return (\r\n              <UserListItem\r\n                name={user.name}\r\n                userId={user.id}\r\n                photo={user.photos.large}\r\n                key={user.id}\r\n                followed={user.followed}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                onClickUserItem={this.hundlerClickUserItem}\r\n                followingInProgress={this.props.followingInProgress}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n        <Pagination\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          portionSize={this.props.portionSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanged={this.props.onPageChanged}\r\n        />\r\n      </>\r\n    );\r\n\r\n    return this.props.isLoaded ? content : loading;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    users: state.usersReducer.users,\r\n    pageSize: state.usersReducer.pageSize,\r\n    portionSize: state.usersReducer.portionSize,\r\n    totalUsersCount: state.usersReducer.totalUsersCount,\r\n    currentPage: state.usersReducer.currentPage,\r\n    isLoaded: state.usersReducer.isLoaded,\r\n    followingInProgress: state.usersReducer.followingInProgress\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    getUsersThunkCreator,\r\n    onPageChanged,\r\n    follow,\r\n    unfollow\r\n  }),\r\n  withRouter,\r\n  withAuthRedirect\r\n)(UsersList);\r\n","import React from 'react'\r\nimport classes from './Messages.module.scss'\r\n\r\nconst Messages = () => {\r\n  return (\r\n    <div className={classes.Messages}>\r\n      There will be messages\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Messages","import React from 'react'\r\nimport classes from './News.module.scss'\r\n\r\nconst News = () => {\r\n  return (\r\n    <div className={classes.News}>\r\n      There will be news\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default News","import React from 'react'\r\nimport classes from './Settings.module.scss'\r\n\r\nconst Settings = () => {\r\n  return (\r\n    <div className={classes.Settings}>\r\n      There will be Settings\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Settings","import { authAPI } from '../../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_AUTH_USER_DATA = 'auth/SET_AUTH_USER_DATA';\r\n\r\nconst initialState = {\r\n  id: null as number | null,\r\n  email: null as string | null,\r\n  login: null as string | null,\r\n  isAuth: false,\r\n};\r\n\r\nexport type initialStateType = typeof initialState\r\n\r\nexport default function authReducer(\r\n  state = initialState,\r\n  action: any\r\n): initialStateType {\r\n  switch (action.type) {\r\n    case SET_AUTH_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.data,\r\n        isAuth: action.data.isAuth,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\ntype SetAuthUserDataPayloadType = {\r\n  userId: number | null;\r\n  email: string | null;\r\n  login: string | null;\r\n  isAuth: boolean;\r\n};\r\n\r\ntype SetAuthUserDataType = {\r\n  type: typeof SET_AUTH_USER_DATA;\r\n  data: SetAuthUserDataPayloadType;\r\n};\r\n\r\n// ACTION CREATOR\r\nexport const setAuthUserData = (\r\n  userId: number | null,\r\n  email: string | null,\r\n  login: string | null,\r\n  isAuth: boolean\r\n): SetAuthUserDataType => ({\r\n  type: SET_AUTH_USER_DATA,\r\n  data: { userId, email, login, isAuth },\r\n});\r\n\r\n// THUNK\r\nexport const getAuthUserDataThunk = () => async (dispatch: any) => {\r\n  const data = await authAPI.me();\r\n\r\n  if (data.resultCode === 0) {\r\n    const { id, email, login } = data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n};\r\n\r\nexport const loginThunk = (email: string, password:string, rememberMe:boolean) => async (dispatch:any) => {\r\n  const data = await authAPI.login(email, password, rememberMe);\r\n\r\n  if (data.resultCode === 0) {\r\n    dispatch(getAuthUserDataThunk());\r\n  } else {\r\n    const message = data.messages.length > 0 ? data.messages[0] : 'Some Error';\r\n    const action = stopSubmit('login', { _error: message });\r\n    dispatch(action);\r\n  }\r\n};\r\n\r\nexport const logoutThunk = () => async (dispatch: any) => {\r\n  const data = await authAPI.logout();\r\n\r\n  if (data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n};\r\n","import React from 'react'\r\nimport classes from './FormControl.module.scss'\r\n\r\nexport const FormInput = ({ input, meta, ...props }) => {\r\n  return (\r\n    <div className={classes.FormInput}>\r\n      <input {...input} {...props} />\r\n      {meta.touched && meta.error && (\r\n        <div style={{ color: 'red', marginTop: '10px' }}>{meta.error}</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const FormCheckbox = ({ input, meta, ...props }) => {\r\n  return (\r\n    <div  className={classes.FormCheckbox}>\r\n      <label htmlFor=\"\">\r\n        <input {...input} {...props} />\r\n      </label>\r\n    </div>\r\n  );\r\n};","export const required = value => {\r\n  if (value) {\r\n    console.log('validate(required) ok');\r\n    return undefined;\r\n  }\r\n\r\n  return 'Field is required';\r\n};","import React, { Component } from 'react';\r\nimport classes from './Login.module.scss';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { reduxForm, Field } from 'redux-form';\r\n\r\nimport { loginThunk, logoutThunk } from '../../redux/reducers/authReducer';\r\nimport { FormInput, FormCheckbox } from '../UI/FormControl/FormControl';\r\nimport { required } from '../../validate/login';\r\n// import { Redirect } from 'react-router-dom';\r\n\r\nconst LoginForm = props => {\r\n  return (\r\n    <form className={classes.Form} onSubmit={props.handleSubmit}>\r\n      <div style={{fontSize: '20px', color: '#fff'}}>\r\n        <div style={{fontWeight: 'bold'}}>Test Account:</div>\r\n        <div>Email: free@samuraijs.com</div>\r\n        <div>Password: free</div>\r\n      </div>\r\n      <div className={classes.FormItem}>\r\n        <label htmlFor=''>Login</label>\r\n        <Field\r\n          validate={[required]}\r\n          name={'email'}\r\n          component={FormInput}\r\n          placeholder='Email'\r\n        />\r\n      </div>\r\n      <div className={classes.FormItem}>\r\n        <label htmlFor=''>Password</label>\r\n        <Field name={'password'} component={FormInput} placeholder='Password' />\r\n      </div>\r\n      <div className={classes.FormItemCheckbox}>\r\n        <Field\r\n          name={'rememberMe'}\r\n          id='checkbox'\r\n          type={'checkbox'}\r\n          component={FormCheckbox}\r\n        />\r\n        <label htmlFor='checkbox'>Remember</label>\r\n      </div>\r\n      {props.error && <div style={{ color: 'red' }}>{props.error}</div>}\r\n\r\n      <div className={classes.FormItemButton}>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst LoginFormRedux = reduxForm({ form: 'login' })(LoginForm);\r\n\r\nclass Login extends Component {\r\n  onSubmit = formData => {\r\n    this.props.loginThunk(\r\n      formData.email,\r\n      formData.password,\r\n      formData.rememberMe\r\n    );\r\n  };\r\n\r\n  render() {\r\n    //if (this.props.isAuth) {\r\n    //  return <Redirect to={'/profile/6426'} />;\r\n    //}\r\n\r\n    return (\r\n      <div className={classes.Login}>\r\n        <LoginFormRedux onSubmit={this.onSubmit} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuth: state.authReducer.isAuth\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { loginThunk, logoutThunk })(Login);\r\n","import React from 'react';\r\nimport classes from './Nav.module.scss';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Nav = (props) => {\r\n  return (\r\n    <nav className={classes.Nav}>\r\n      <ul className={classes.NavList}>\r\n        <li>\r\n          <NavLink to={`/profile/${props.userId}`} activeClassName={classes.active} exact>\r\n            My profile\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to='/' activeClassName={classes.active} exact>\r\n            Users\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to='/messages' activeClassName={classes.active}>\r\n            Messages\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to='/news' activeClassName={classes.active} exact>\r\n            News\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to='/settings' activeClassName={classes.active}>\r\n            Settings\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    userId: state.authReducer.userId\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Nav);\r\n","import { getAuthUserDataThunk } from './authReducer';\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\n\r\nexport type InitialStateType = {\r\n  initialized: boolean;\r\n};\r\n\r\nconst initialState: InitialStateType = { initialized: false };\r\n\r\nexport default function appReducer(\r\n  state = initialState,\r\n  action: any\r\n): InitialStateType {\r\n  switch (action.type) {\r\n    case SET_INITIALIZED:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\ntype initializedSuccessType = { type: typeof SET_INITIALIZED };\r\n\r\n// ACTION CREATOR\r\nexport const initializedSuccess = ():initializedSuccessType => ({ type: SET_INITIALIZED });\r\n\r\nexport const initializeThunk = () => {\r\n  return (dispatch: any) => {\r\n    const promise = dispatch(getAuthUserDataThunk());\r\n\r\n    Promise.all([promise]).then(() => {\r\n      dispatch(initializedSuccess());\r\n    });\r\n  };\r\n};\r\n","//import { createSelector } from 'reselect'\r\n\r\nexport const getIsAuth = (state) => {\r\n  return state.authReducer.isAuth\r\n} \r\n\r\nexport const getUserLogin = (state) => {\r\n  return state.authReducer.login\r\n}\r\n\r\n//export const getUsers = (state) => {\r\n//  return state.authReducer.users\r\n//}\r\n//\r\n//export const getUsersSuperSelector = createSelector(getUsers, (users) => {\r\n//  users.filter( u => true)\r\n//})","import React, { Component, Suspense } from 'react';\r\nimport './App.scss';\r\n\r\nimport UsersList from './components/UsersList/UsersList';\r\nimport Messages from './components/Messages/Messages';\r\nimport News from './components/News/News';\r\nimport Settings from './components/Settings/Settings';\r\nimport Login from './components/Login/Login';\r\nimport Nav from './components/Nav/Nav';\r\nimport Spinner from './components/UI/Spinner/Spinner';\r\n\r\nimport { withRouter } from 'react-router';\r\nimport { Switch, Route, NavLink } from 'react-router-dom';\r\n\r\nimport { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { logoutThunk } from './redux/reducers/authReducer';\r\nimport { initializeThunk } from './redux/reducers/appReducer';\r\nimport { getIsAuth, getUserLogin } from './redux/reducers/authSelector';\r\nconst Profile = React.lazy(() => import('./components/Profile/Profile'));\r\n\r\nconst defaultAvatar =\r\n  'https://specenergo.ru/sites/default/files/styles/mt_testimonial_image/public/2016-11/testimonial-4.jpg?itok=a7UblV6p';\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    this.props.initializeThunk();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return (\r\n        <div\r\n          style={{ backgroundColor: 'green', width: '100%', height: '100%' }}\r\n        >\r\n          <Spinner />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className='App'>\r\n        <header className='Header'>\r\n          <div className='Logo'>SocialNetwork</div>\r\n          <div className='User'>\r\n            {!this.props.isAuth && (\r\n              <div style={{ marginLeft: '20px', cursor: 'pointer' }}>\r\n                <NavLink to={'/login'}>Login</NavLink>\r\n              </div>\r\n            )}\r\n\r\n            {this.props.isAuth && (\r\n              <>\r\n                <span className='UserName'>{this.props.login}</span>\r\n                <div className='Avatar'>\r\n                  <img src={defaultAvatar} alt='Avatar' />\r\n                </div>\r\n                <span\r\n                  style={{ marginLeft: '20px', cursor: 'pointer' }}\r\n                  onClick={() => this.props.logoutThunk()}\r\n                >\r\n                  Logout\r\n                </span>\r\n              </>\r\n            )}\r\n          </div>\r\n        </header>\r\n        <div className='Content'>\r\n          <Nav />\r\n          <main className='MainContent'>\r\n            <Switch>\r\n              <Route path='/' exact>\r\n                <UsersList />\r\n              </Route>\r\n              <Route path='/profile/:userId'>\r\n                <Suspense\r\n                  fallback={\r\n                    <div>\r\n                      <Spinner />\r\n                    </div>\r\n                  }\r\n                >\r\n                  <Profile />\r\n                </Suspense>\r\n              </Route>\r\n              <Route path='/Login' exact>\r\n                <Login />\r\n              </Route>\r\n              <Route path='/messages' exact>\r\n                <Messages />\r\n              </Route>\r\n              <Route path='/news' exact>\r\n                <News />\r\n              </Route>\r\n              <Route path='/settings' exact>\r\n                <Settings />\r\n              </Route>\r\n            </Switch>\r\n          </main>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: getIsAuth(state),\r\n    login: getUserLogin(state),\r\n    initialized: state.appReducer.initialized,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, {\r\n    logoutThunk,\r\n    initializeThunk,\r\n  })\r\n)(App);\r\n","import { combineReducers } from 'redux';\r\n\r\nimport usersReducer from './reducers/usersReducer';\r\nimport authReducer from './reducers/authReducer';\r\nimport profileReducer from './reducers/profileReducer';\r\nimport appReducer from './reducers/appReducer';\r\n\r\nimport {reducer as formReducer} from 'redux-form';\r\n\r\nexport default combineReducers({\r\n  appReducer,\r\n  authReducer,\r\n  usersReducer,\r\n  profileReducer,\r\n  form: formReducer,\r\n});","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\n\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport rootReducer from './redux/rootReducer';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport { BrowserRouter} from 'react-router-dom';\r\nimport thunkMiddleware from 'redux-thunk';\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\n\r\nconst app = (\r\n  <Provider store={store}>\r\n    {/* <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter> */}\r\n\r\n    <HashRouter>\r\n      <App />\r\n    </HashRouter>\r\n  </Provider>\r\n);\r\n\r\nReactDOM.render(app, document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"skChase\":\"Spinner_skChase__U0TiR\",\"sk-chase\":\"Spinner_sk-chase__3HvUI\",\"skChaseDot\":\"Spinner_skChaseDot__1zdue\",\"sk-chase-dot\":\"Spinner_sk-chase-dot__3b1L5\",\"sk-chase-dot-before\":\"Spinner_sk-chase-dot-before__3exAG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Nav\":\"Nav_Nav__bCTYE\",\"NavList\":\"Nav_NavList__KuCu7\",\"active\":\"Nav_active__11_gR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__1t_6N\",\"Form\":\"Login_Form__2-G2S\",\"FormItem\":\"Login_FormItem__1EkK2\",\"FormItemCheckbox\":\"Login_FormItemCheckbox__30jr_\",\"FormItemButton\":\"Login_FormItemButton__3iJ53\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Pagination\":\"Pagination_Pagination__2rvuc\",\"PaginationControl\":\"Pagination_PaginationControl__2F2eL\",\"PaginationItems\":\"Pagination_PaginationItems__3Rh8D\",\"active\":\"Pagination_active__28ytu\"};","import React from 'react';\r\nimport classes from './Spinner.module.scss';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className={classes.skChase}>\r\n      <div className={classes.skChaseDot}></div>\r\n      <div className={classes.skChaseDot}></div>\r\n      <div className={classes.skChaseDot}></div>\r\n      <div className={classes.skChaseDot}></div>\r\n      <div className={classes.skChaseDot}></div>\r\n      <div className={classes.skChaseDot}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UserListItem\":\"UserListItem_UserListItem__Sz2rs\",\"UserListItemImg\":\"UserListItem_UserListItemImg__1emSv\",\"UserListItemName\":\"UserListItem_UserListItemName__3yikv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Users\":\"UsersList_Users__2YTJ6\",\"UsersLoading\":\"UsersList_UsersLoading__Gqu-s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FormCheckbox\":\"FormControl_FormCheckbox__28GhW\"};"],"sourceRoot":""}